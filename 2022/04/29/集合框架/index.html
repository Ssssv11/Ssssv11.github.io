<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.1.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic%7CMicrosoft+YaHei:300,300italic,400,400italic,700,700italic%7CRoboto+Slab:300,300italic,400,400italic,700,700italic%7CMonaco:300,300italic,400,400italic,700,700italic%7CMenlo:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.2/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"ssssv11.github.io","root":"/","images":"/images","scheme":"Pisces","version":"8.2.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}};
  </script>
<meta name="description" content="集合框架">
<meta property="og:type" content="article">
<meta property="og:title" content="集合框架">
<meta property="og:url" content="https://ssssv11.github.io/2022/04/29/%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6/index.html">
<meta property="og:site_name" content="Ssssv">
<meta property="og:description" content="集合框架">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://s1.imagehub.cc/images/2022/03/03/collection.png">
<meta property="og:image" content="https://s1.imagehub.cc/images/2022/03/03/arraylinkedlist.png">
<meta property="og:image" content="https://s1.imagehub.cc/images/2022/03/04/f7246b600c338744ebf82e15ac5fcef9d72a60590a03.png">
<meta property="article:published_time" content="2022-04-29T13:34:23.496Z">
<meta property="article:modified_time" content="2022-04-29T13:34:43.575Z">
<meta property="article:author" content="Ssssv11">
<meta property="article:tag" content="JavaSE">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://s1.imagehub.cc/images/2022/03/03/collection.png">


<link rel="canonical" href="https://ssssv11.github.io/2022/04/29/%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>
<title>集合框架 | Ssssv</title>
  




  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Ssssv</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li>
        <li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags<span class="badge">23</span></a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives<span class="badge">37</span></a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A6%82%E5%BF%B5"><span class="nav-number">1.</span> <span class="nav-text">概念</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Collection%E4%BD%93%E7%B3%BB"><span class="nav-number">2.</span> <span class="nav-text">Collection体系</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Collection%E7%88%B6%E6%8E%A5%E5%8F%A3"><span class="nav-number">3.</span> <span class="nav-text">Collection父接口</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Collection%E5%AD%90%E6%8E%A5%E5%8F%A3"><span class="nav-number">4.</span> <span class="nav-text">Collection子接口</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#List%E9%9B%86%E5%90%88"><span class="nav-number">4.1.</span> <span class="nav-text">List集合</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#List%E5%AE%9E%E7%8E%B0%E7%B1%BB"><span class="nav-number">4.2.</span> <span class="nav-text">List实现类</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#ArrayList-%E9%87%8D%E7%82%B9"><span class="nav-number">4.2.1.</span> <span class="nav-text">ArrayList [重点]</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ArrayList%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90"><span class="nav-number">4.2.2.</span> <span class="nav-text">ArrayList源码分析</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Vector"><span class="nav-number">4.2.3.</span> <span class="nav-text">Vector</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#LinkedList"><span class="nav-number">4.2.4.</span> <span class="nav-text">LinkedList</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#LinkedList%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90"><span class="nav-number">4.2.5.</span> <span class="nav-text">LinkedList源码分析</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ArrayList%E4%B8%8ELinkedList%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-number">4.2.6.</span> <span class="nav-text">ArrayList与LinkedList的区别</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B3%9B%E5%9E%8B%E6%A6%82%E8%BF%B0"><span class="nav-number">5.</span> <span class="nav-text">泛型概述</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B3%9B%E5%9E%8B%E7%B1%BB"><span class="nav-number">5.1.</span> <span class="nav-text">泛型类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B3%9B%E5%9E%8B%E6%8E%A5%E5%8F%A3"><span class="nav-number">5.2.</span> <span class="nav-text">泛型接口</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B3%9B%E5%9E%8B%E6%96%B9%E6%B3%95"><span class="nav-number">5.3.</span> <span class="nav-text">泛型方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B3%9B%E5%9E%8B%E9%9B%86%E5%90%88"><span class="nav-number">5.4.</span> <span class="nav-text">泛型集合</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Set%E9%9B%86%E5%90%88%E6%A6%82%E8%BF%B0"><span class="nav-number">6.</span> <span class="nav-text">Set集合概述</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Set%E5%AD%90%E6%8E%A5%E5%8F%A3"><span class="nav-number">6.1.</span> <span class="nav-text">Set子接口</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Set%E5%AE%9E%E7%8E%B0%E7%B1%BB"><span class="nav-number">6.1.1.</span> <span class="nav-text">Set实现类</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#HashSet"><span class="nav-number">6.1.1.1.</span> <span class="nav-text">HashSet</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#TreeSet"><span class="nav-number">6.1.1.2.</span> <span class="nav-text">TreeSet</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Map%E9%9B%86%E5%90%88%E6%A6%82%E8%BF%B0"><span class="nav-number">7.</span> <span class="nav-text">Map集合概述</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Map%E6%8E%A5%E5%8F%A3%E7%9A%84%E7%89%B9%E7%82%B9%EF%BC%9A"><span class="nav-number">7.1.</span> <span class="nav-text">Map接口的特点：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Map%E7%88%B6%E6%8E%A5%E5%8F%A3"><span class="nav-number">7.2.</span> <span class="nav-text">Map父接口</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Map%E5%AD%90%E6%8E%A5%E5%8F%A3"><span class="nav-number">7.3.</span> <span class="nav-text">Map子接口</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Map%E5%AE%9E%E7%8E%B0%E7%B1%BB"><span class="nav-number">7.3.1.</span> <span class="nav-text">Map实现类</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#HashMap-%E9%87%8D%E7%82%B9"><span class="nav-number">7.3.1.1.</span> <span class="nav-text">HashMap[重点]</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#HashMap%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90"><span class="nav-number">7.3.1.2.</span> <span class="nav-text">HashMap源码分析</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#HashSet%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90"><span class="nav-number">7.3.1.3.</span> <span class="nav-text">HashSet源码分析</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Hashtable"><span class="nav-number">7.3.1.4.</span> <span class="nav-text">Hashtable</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Properties"><span class="nav-number">7.3.1.5.</span> <span class="nav-text">Properties</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#TreeMap"><span class="nav-number">7.3.1.6.</span> <span class="nav-text">TreeMap</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#TreeSet%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90"><span class="nav-number">7.3.1.7.</span> <span class="nav-text">TreeSet源码分析</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Collections%E5%B7%A5%E5%85%B7%E7%B1%BB"><span class="nav-number">8.</span> <span class="nav-text">Collections工具类</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Ssssv11"
      src="/images/header.jpg">
  <p class="site-author-name" itemprop="name">Ssssv11</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">37</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">23</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/Ssssv11" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Ssssv11" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="https://ssssv11.github.io/2022/04/29/%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/header.jpg">
      <meta itemprop="name" content="Ssssv11">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ssssv">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          集合框架
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2022-04-29 21:34:23 / Modified: 21:34:43" itemprop="dateCreated datePublished" datetime="2022-04-29T21:34:23+08:00">2022-04-29</time>
    </span>

  
    <span class="post-meta-item" title="Views" id="busuanzi_container_page_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">Views: </span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <center>集合框架</center>



<span id="more"></span>

<h2 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h2><hr>
<ul>
<li><strong>集合概念</strong></li>
</ul>
<p>集合是对象的容器，实现了对对象常用的操作，类似数组的功能。</p>
<ul>
<li><p><strong>集合和数组的区别</strong></p>
<ol>
<li>数组长度固定，集合长度不固定</li>
<li>数组可以存储基本类型和引用类型，集合只能存储引用类型</li>
</ol>
</li>
<li><p><strong>位置</strong></p>
<p>java.util.*;</p>
<br/></li>
</ul>
<h2 id="Collection体系"><a href="#Collection体系" class="headerlink" title="Collection体系"></a>Collection体系</h2><hr>
<p><img src="https://s1.imagehub.cc/images/2022/03/03/collection.png" alt="collection.png"></p>
<br/>

<h2 id="Collection父接口"><a href="#Collection父接口" class="headerlink" title="Collection父接口"></a>Collection父接口</h2><ul>
<li><p><strong>特点:</strong></p>
<p>代表一组任意类型的对象，无序、无下标、不能重复。</p>
</li>
<li><p><strong>方法:</strong></p>
<p><code>boolean add(Object obj) //添加一个对象。</code></p>
<p><code>boolean addAll(Collection c) //讲一个集合中的所有对象添加到此集合中。</code></p>
<p><code>void clear() //清空此集合中的所有对象。</code></p>
<p><code>boolean contains(Object o) //检查此集合中是否包含o对象。</code></p>
<p><code>boolean equals(Object o) //比较此集合是否与指定对象相等。</code></p>
<p><code>boolean isEmpty() //判断此集合是否为空。</code></p>
<p><code>boolean remove(Object o) //在此集合中移除o对象。</code></p>
<p><code>int size() //返回此集合中的元素个数。</code></p>
<p><code>Object[] toArray() //姜此集合转换成数组。</code></p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Collection接口的使用 (保存字符串）</span></span><br><span class="line"><span class="comment"> * 1. 添加元素</span></span><br><span class="line"><span class="comment"> * 2. 删除元素</span></span><br><span class="line"><span class="comment"> * 3. 遍历元素</span></span><br><span class="line"><span class="comment"> * 4. 判断</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CollectionTest1</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 创建集合</span></span><br><span class="line">        Collection collection = <span class="keyword">new</span> ArrayList();</span><br><span class="line"></span><br><span class="line"><span class="comment">//      1. 添加元素</span></span><br><span class="line">        collection.add(<span class="string">&quot;apple&quot;</span>);</span><br><span class="line">        collection.add(<span class="string">&quot;watermelon&quot;</span>);</span><br><span class="line">        collection.add(<span class="string">&quot;pineapple&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;ElementNum: &quot;</span> + collection.size());</span><br><span class="line">        System.out.println(collection);</span><br><span class="line"></span><br><span class="line"><span class="comment">//      2. 删除元素</span></span><br><span class="line">        collection.remove(<span class="string">&quot;pineapple&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;After delete: &quot;</span> + collection);</span><br><span class="line"></span><br><span class="line"><span class="comment">//      3. 遍历元素</span></span><br><span class="line">        <span class="comment">// for-each</span></span><br><span class="line">        System.out.print(<span class="string">&quot;for-each edition: &quot;</span>);</span><br><span class="line">         <span class="keyword">for</span>(Object o : collection)&#123;</span><br><span class="line">             System.out.println(o);</span><br><span class="line">         &#125;</span><br><span class="line"></span><br><span class="line">         <span class="comment">// iterator</span></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        1. hasNext() 是否有下个元素</span></span><br><span class="line"><span class="comment">        2. next() 获取下个元素</span></span><br><span class="line"><span class="comment">        3. remove() 删除当前元素</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        System.out.print(<span class="string">&quot;iterator edition: &quot;</span>);</span><br><span class="line">        Iterator it = collection.iterator();</span><br><span class="line">        <span class="keyword">while</span> (it.hasNext()) &#123;</span><br><span class="line">            String s = (String) it.next();</span><br><span class="line">            System.out.println(s);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//      4. 判断</span></span><br><span class="line">        System.out.println(collection.contains(<span class="string">&quot;watermelon&quot;</span>));</span><br><span class="line">        System.out.println(collection.isEmpty());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Collection接口的使用 (保存对象信息）</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CollectionTest2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 创建Collection对象</span></span><br><span class="line">        Collection collection = <span class="keyword">new</span> ArrayList();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 创建学生对象</span></span><br><span class="line">        Student s1 = <span class="keyword">new</span> Student(<span class="string">&quot;a&quot;</span>, <span class="number">20</span>);</span><br><span class="line">        Student s2 = <span class="keyword">new</span> Student(<span class="string">&quot;b&quot;</span>, <span class="number">21</span>);</span><br><span class="line">        Student s3 = <span class="keyword">new</span> Student(<span class="string">&quot;c&quot;</span>, <span class="number">22</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 添加数据</span></span><br><span class="line">        collection.add(s1);</span><br><span class="line">        collection.add(s2);</span><br><span class="line">        collection.add(s3);</span><br><span class="line">        System.out.println(<span class="string">&quot;ElementNum: &quot;</span> + collection.size());</span><br><span class="line">        System.out.println(collection.toString());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 删除</span></span><br><span class="line">        collection.remove(s1);</span><br><span class="line"><span class="comment">//      collection.clear();</span></span><br><span class="line">        System.out.println(<span class="string">&quot;After remove&quot;</span> + collection.toString() + <span class="string">&quot;\nElementNum: &quot;</span> + collection.size());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 遍历</span></span><br><span class="line">        <span class="comment">// for-each</span></span><br><span class="line">        System.out.println(<span class="string">&quot;for-each edition: &quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (Object s : collection)&#123;</span><br><span class="line">            System.out.println(s.toString());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iterator</span></span><br><span class="line">        System.out.println(<span class="string">&quot;iterator edition: &quot;</span>);</span><br><span class="line">        Iterator it = collection.iterator();</span><br><span class="line">        <span class="keyword">while</span> (it.hasNext())&#123;</span><br><span class="line">            System.out.println(it.next().toString());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 判断</span></span><br><span class="line">        System.out.println(collection.contains(s2));</span><br><span class="line">        System.out.println(collection.isEmpty());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 学生类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Student [name = &quot;</span> + name + <span class="string">&quot;, age = &quot;</span> + age + <span class="string">&quot;]&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br/>

<h2 id="Collection子接口"><a href="#Collection子接口" class="headerlink" title="Collection子接口"></a>Collection子接口</h2><h3 id="List集合"><a href="#List集合" class="headerlink" title="List集合"></a><strong>List集合</strong></h3><ul>
<li><p><strong>特点:</strong> 有序、有下标、元素可以重复。</p>
</li>
<li><p><strong>方法:</strong> </p>
<p><code>void add(int index,Object o) //在index位置插入对象o。</code></p>
<p><code>boolean addAll(index,Collection c) //将一个集合中的元素添加到此集合中的index位置。</code></p>
<p><code>Object get(int index) //返回集合中指定位置的元素。</code></p>
<p><code>List subList(int fromIndex,int toIndex) //返回fromIndex和toIndex之间的元素。</code></p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  List子接口的使用（一）</span></span><br><span class="line"><span class="comment">  特点：1.有序有下标 2.可以重复</span></span><br><span class="line"><span class="comment">  操作:</span></span><br><span class="line"><span class="comment">  1.添加元素</span></span><br><span class="line"><span class="comment">  2.删除元素</span></span><br><span class="line"><span class="comment">  3.遍历元素</span></span><br><span class="line"><span class="comment">  4.判断</span></span><br><span class="line"><span class="comment">  5.获取位置</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ListTest1</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 创建集合</span></span><br><span class="line">        List list = <span class="keyword">new</span> ArrayList();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//1. 添加元素</span></span><br><span class="line">        list.add(<span class="string">&quot;Apple&quot;</span>);</span><br><span class="line">        list.add(<span class="number">0</span>, <span class="string">&quot;Huawei&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;Xiaomi&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;Samsung&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;ElementNum: &quot;</span> + list.size());</span><br><span class="line">        System.out.println(list.toString());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2. 删除元素</span></span><br><span class="line">        list.remove(<span class="string">&quot;Samsung&quot;</span>);</span><br><span class="line"><span class="comment">//      list.remove(0);</span></span><br><span class="line">        System.out.println(<span class="string">&quot;After remove: &quot;</span> + list.toString());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3. 遍历元素</span></span><br><span class="line">        <span class="comment">// for edition</span></span><br><span class="line">        System.out.println(<span class="string">&quot;for edition: &quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; list.size(); i++) &#123;</span><br><span class="line">            System.out.println(list.get(i));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// for-each edition</span></span><br><span class="line">        System.out.println(<span class="string">&quot;for-each edition: &quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (Object o : list) &#123;</span><br><span class="line">            System.out.println(o.toString());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// iterator edition</span></span><br><span class="line">        System.out.println(<span class="string">&quot;iterator edition: &quot;</span>);</span><br><span class="line">        Iterator iterator = list.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">            System.out.println(iterator.next().toString());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// ListIterator edition</span></span><br><span class="line">        System.out.println(<span class="string">&quot;ListIterator edition: &quot;</span>);</span><br><span class="line">        ListIterator listIterator = list.listIterator();</span><br><span class="line">        <span class="comment">// order</span></span><br><span class="line">        System.out.println(<span class="string">&quot;Order: &quot;</span>);</span><br><span class="line">        <span class="keyword">while</span> (listIterator.hasNext()) &#123;</span><br><span class="line">            System.out.println(listIterator.next());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// reverse order</span></span><br><span class="line">        System.out.println(<span class="string">&quot;Reverse order:&quot;</span>);</span><br><span class="line">        <span class="keyword">while</span>(listIterator.hasPrevious()) &#123;</span><br><span class="line">            System.out.println(listIterator.previous());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 判断</span></span><br><span class="line">        System.out.println(<span class="string">&quot;The list contains Apple is: &quot;</span> + list.contains(<span class="string">&quot;Apple&quot;</span>));</span><br><span class="line">        System.out.println(<span class="string">&quot;The list is empty is: &quot;</span> + list.isEmpty());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 获取位置</span></span><br><span class="line">        System.out.println(<span class="string">&quot;The position of Huawei is: &quot;</span> + list.indexOf(<span class="string">&quot;Huawei&quot;</span>));</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    List子接口的使用(二) 基本类型自动装箱</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ListTest2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 创建集合</span></span><br><span class="line">        List list = <span class="keyword">new</span> ArrayList();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 添加基本类型数据</span></span><br><span class="line">        <span class="comment">// 自动装箱AutoBoxing</span></span><br><span class="line">        list.add(<span class="number">10</span>);</span><br><span class="line">        list.add(<span class="number">20</span>);</span><br><span class="line">        list.add(<span class="number">30</span>);</span><br><span class="line">        list.add(<span class="number">40</span>);</span><br><span class="line">        list.add(<span class="number">50</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;ElementNum: &quot;</span> + list.size());</span><br><span class="line">        System.out.println(list.toString());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 删除</span></span><br><span class="line"><span class="comment">//        list.remove(0);</span></span><br><span class="line"><span class="comment">//        list.remove((Object) 10);</span></span><br><span class="line">        list.remove(<span class="keyword">new</span> Integer(<span class="number">10</span>));</span><br><span class="line">        System.out.println(<span class="string">&quot;After remove: &quot;</span> + list.toString());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// subList()方法: 返回从fromIndex到toIndex之间的元素,含头不含尾</span></span><br><span class="line">        System.out.println(<span class="string">&quot;subList(1, 3): &quot;</span> + list.subList(<span class="number">1</span>, <span class="number">3</span>));</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<br/>

<h3 id="List实现类"><a href="#List实现类" class="headerlink" title="List实现类"></a><strong>List实现类</strong></h3><h4 id="ArrayList-重点"><a href="#ArrayList-重点" class="headerlink" title="ArrayList [重点]"></a><strong>ArrayList [重点]</strong></h4><ul>
<li>数组结构实现，查询块、增删慢；</li>
<li>JDK1.2版本，运行效率快、线程不安全。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    ArrayList的使用</span></span><br><span class="line"><span class="comment">    存储结构: 数组</span></span><br><span class="line"><span class="comment">    特点: 查找遍历快, 增删速度慢</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayListTest1</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 创建集合</span></span><br><span class="line">        ArrayList arrayList = <span class="keyword">new</span> ArrayList();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 添加元素</span></span><br><span class="line">        Student s1 = <span class="keyword">new</span> Student(<span class="string">&quot;a&quot;</span>, <span class="number">20</span>);</span><br><span class="line">        Student s2 = <span class="keyword">new</span> Student(<span class="string">&quot;b&quot;</span>, <span class="number">21</span>);</span><br><span class="line">        Student s3 = <span class="keyword">new</span> Student(<span class="string">&quot;c&quot;</span>, <span class="number">22</span>);</span><br><span class="line">        Student s4 = <span class="keyword">new</span> Student(<span class="string">&quot;d&quot;</span>, <span class="number">23</span>);</span><br><span class="line">        Student s5 = <span class="keyword">new</span> Student(<span class="string">&quot;e&quot;</span>, <span class="number">24</span>);</span><br><span class="line">        arrayList.add(s1);</span><br><span class="line">        arrayList.add(s2);</span><br><span class="line">        arrayList.add(s3);</span><br><span class="line">        arrayList.add(s4);</span><br><span class="line">        arrayList.add(s5);</span><br><span class="line">        System.out.println(arrayList.toString() + <span class="string">&quot;\nElementNum: &quot;</span> + arrayList.size());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 删除</span></span><br><span class="line">        arrayList.remove(s4);</span><br><span class="line">        <span class="comment">// 该语句本是比较是否否同一个对象</span></span><br><span class="line">        <span class="comment">// 要使该语句能删除ArrayList中的元素,就要重写Student类中的equals()方法,使其比较该对象的属性是否相同</span></span><br><span class="line">        arrayList.remove(<span class="keyword">new</span> Student(<span class="string">&quot;e&quot;</span>, <span class="number">24</span>));</span><br><span class="line">        System.out.println(<span class="string">&quot;After remove: &quot;</span> + arrayList.toString() + <span class="string">&quot;\nElementNum: &quot;</span> + arrayList.size());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 遍历[重点]</span></span><br><span class="line">        <span class="comment">// iterator edition</span></span><br><span class="line">        System.out.println(<span class="string">&quot;iterator edition: &quot;</span>);</span><br><span class="line">        Iterator iterator = arrayList.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">            System.out.println(iterator.next().toString());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// ListIterator edition</span></span><br><span class="line">        System.out.println(<span class="string">&quot;ListIterator order edition: &quot;</span>);</span><br><span class="line">        ListIterator listiterator = arrayList.listIterator();</span><br><span class="line">        <span class="keyword">while</span> (listiterator.hasNext()) &#123;</span><br><span class="line">            System.out.println(listiterator.next().toString());</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;ListIterator Reverse order edition: &quot;</span>);</span><br><span class="line">        <span class="keyword">while</span> (listiterator.hasPrevious()) &#123;</span><br><span class="line">            System.out.println(listiterator.previous().toString());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 判断</span></span><br><span class="line">        System.out.println(<span class="string">&quot;The arrayList contains s1 is: &quot;</span> + arrayList.contains(s1));</span><br><span class="line">        <span class="comment">// 重写Student类中equals()方法</span></span><br><span class="line">        System.out.println(<span class="string">&quot;The arrayList contains s2 is: &quot;</span> + arrayList.contains(<span class="keyword">new</span> Student(<span class="string">&quot;b&quot;</span>, <span class="number">21</span>)));</span><br><span class="line">        System.out.println(<span class="string">&quot;The arrayList is empty is: &quot;</span> + arrayList.isEmpty());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 查找</span></span><br><span class="line">        System.out.println(<span class="string">&quot;The index of s1 is: &quot;</span> + arrayList.indexOf(s1));</span><br><span class="line">        System.out.println(<span class="string">&quot;The index of s2 is: &quot;</span> + arrayList.indexOf(<span class="keyword">new</span> Student(<span class="string">&quot;b&quot;</span>, <span class="number">21</span>)));</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 重写Student类equals()方法</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 1. 是否为同一对象</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span> == obj)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 2. 是否为空</span></span><br><span class="line">    <span class="keyword">if</span>(obj == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 3. 是否是Student类型</span></span><br><span class="line">    <span class="keyword">if</span>(obj <span class="keyword">instanceof</span> Student)&#123;</span><br><span class="line">        Student s = (Student) obj;</span><br><span class="line">        <span class="comment">// 4. 属性是否相同</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">this</span>.name.equals(s.getName()) &amp;&amp; <span class="keyword">this</span>.age == s.getAge())&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 5. 不满足返回false</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br/>

<h4 id="ArrayList源码分析"><a href="#ArrayList源码分析" class="headerlink" title="ArrayList源码分析"></a><strong>ArrayList源码分析</strong></h4><ul>
<li><p>默认容量大小：<code>private static final int DEFAULT_CAPACITY = 10;</code></p>
</li>
<li><p>存放元素的数组：<code>transient Object[] elementData;</code></p>
</li>
<li><p>实际元素个数：<code>private int size;</code></p>
</li>
<li><p>创建对象时调用的无参构造函数：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//这是一个空的数组</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Object[] DEFAULTCAPACITY_EMPTY_ELEMENTDATA = &#123;&#125;;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">ArrayList</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.elementData = DEFAULTCAPACITY_EMPTY_ELEMENTDATA;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>当创建一个无参ArrayList时，数组容量为 0 ，size也为 0 .</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">add</span><span class="params">(E e)</span> </span>&#123;</span><br><span class="line">    ensureCapacityInternal(size + <span class="number">1</span>);  <span class="comment">// Increments modCount!!</span></span><br><span class="line">    elementData[size++] = e;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>当向ArrayList中使用<code>add(E e)</code>方法添加元素时，会调用</p>
<p><code>ensureCapacityInternal()</code>方法。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">ensureCapacityInternal</span><span class="params">(<span class="keyword">int</span> minCapacity)</span> </span>&#123;</span><br><span class="line">    ensureExplicitCapacity(calculateCapacity(elementData, minCapacity));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在<code>ensureCapacityInternal()</code>方法中，会将<code>calculateCapacity(elementData, minCapacity)</code>的值作为参数传入<code>ensureExplicitCapacity()</code>方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">calculateCapacity</span><span class="params">(Object[] elementData, <span class="keyword">int</span> minCapacity)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (elementData == DEFAULTCAPACITY_EMPTY_ELEMENTDATA) &#123;</span><br><span class="line">        <span class="keyword">return</span> Math.max(DEFAULT_CAPACITY, minCapacity);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> minCapacity;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在<code>calculateCapacity()</code>方法中，如果当前数组中元素个数为 0，则会将该数组的容量设值为<code>DEFAULT_CAPACITY</code> 和 <code>minCapacit</code>中更大的一个。即当添加第一个元素时，会将数组容量设置为默认容量大小10。否则数组容量大小就等于传入的<code>minCapatity</code>。再返回到上层方法<code>ensureExplicitCapacity()</code>中。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">ensureExplicitCapacity</span><span class="params">(<span class="keyword">int</span> minCapacity)</span> </span>&#123;</span><br><span class="line">    modCount++;</span><br><span class="line">    <span class="comment">// overflow-conscious code</span></span><br><span class="line">    <span class="keyword">if</span> (minCapacity - elementData.length &gt; <span class="number">0</span>)</span><br><span class="line">        grow(minCapacity);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在该方法中，当<code>minCapatity - elementData。length</code>的值 &gt;0 时，调用<code>grow()</code>方法。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">grow</span><span class="params">(<span class="keyword">int</span> minCapacity)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// overflow-conscious code</span></span><br><span class="line">    <span class="keyword">int</span> oldCapacity = elementData.length;</span><br><span class="line">    <span class="keyword">int</span> newCapacity = oldCapacity + (oldCapacity &gt;&gt; <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span> (newCapacity - minCapacity &lt; <span class="number">0</span>)</span><br><span class="line">        newCapacity = minCapacity;</span><br><span class="line">    <span class="keyword">if</span> (newCapacity - MAX_ARRAY_SIZE &gt; <span class="number">0</span>)</span><br><span class="line">        newCapacity = hugeCapacity(minCapacity);</span><br><span class="line">    <span class="comment">// minCapacity is usually close to size, so this is a win:</span></span><br><span class="line">    elementData = Arrays.copyOf(elementData, newCapacity);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>该方法将当前数组长度<code>elementData.length</code>的值赋给变量<code>oldCapacity</code>，再声明一个<code>newCapcity</code>变量，其值为<code>oldCapacity + (oldCapacity &gt;&gt; 1)</code>(即<code>oldCapcity</code>的值的1/2)。</p>
<p>当<code>newCapcity</code>的值小于<code>minCapcity</code>的值时，让<code>newCapacity = minCapacity</code>。</p>
<p>然后为<code>elementData</code>数组赋予新的长度而不改变其中的元素。</p>
<p>最后返回<code>add(E e)</code>方法中，将e存储在<code>elementData[size]</code>位置，再使<code>size++</code> 。</p>
</li>
</ul>
<br/>

<h4 id="Vector"><a href="#Vector" class="headerlink" title="Vector"></a><strong>Vector</strong></h4><ul>
<li>数组结构实现，查询快、增删慢；</li>
<li>JDK1.0版本，运行效率慢、线程安全。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    Vector的使用</span></span><br><span class="line"><span class="comment">    存储结构: 数组</span></span><br><span class="line"><span class="comment">    特点: 查找遍历快, 增删速度慢, 线程安全</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">VectorTest1</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 创建集合</span></span><br><span class="line">        Vector vector = <span class="keyword">new</span> Vector();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 添加元素</span></span><br><span class="line">        vector.add(<span class="string">&quot;apple&quot;</span>);</span><br><span class="line">        vector.add(<span class="string">&quot;banana&quot;</span>);</span><br><span class="line">        vector.add(<span class="string">&quot;pear&quot;</span>);</span><br><span class="line">        vector.add(<span class="string">&quot;peach&quot;</span>);</span><br><span class="line">        vector.add(<span class="string">&quot;watermelon&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 删除元素</span></span><br><span class="line">        vector.remove(<span class="string">&quot;apple&quot;</span>);</span><br><span class="line">        vector.remove(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 遍历</span></span><br><span class="line">        <span class="comment">// Enumeration edition</span></span><br><span class="line">        System.out.println(<span class="string">&quot;Enumeration edition: &quot;</span>);</span><br><span class="line">        Enumeration enumeration = vector.elements();</span><br><span class="line">        <span class="keyword">while</span> (enumeration.hasMoreElements()) &#123;</span><br><span class="line">            System.out.println(enumeration.nextElement().toString());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 判断</span></span><br><span class="line">        System.out.println(<span class="string">&quot;The vector contains pear is: &quot;</span> + vector.contains(<span class="string">&quot;pear&quot;</span>));</span><br><span class="line">        System.out.println(<span class="string">&quot;The vector is empty is: &quot;</span> + vector.isEmpty());</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<br/>

<h4 id="LinkedList"><a href="#LinkedList" class="headerlink" title="LinkedList"></a><strong>LinkedList</strong></h4><ul>
<li>链表结构实现，增删快，查询慢。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    LinkedList的使用</span></span><br><span class="line"><span class="comment">    存储结构: 双向链表</span></span><br><span class="line"><span class="comment">    查找遍历慢, 增删速度快</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LinkedListTest1</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 创建集合</span></span><br><span class="line">        LinkedList linkedList = <span class="keyword">new</span> LinkedList();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 添加元素</span></span><br><span class="line">        Student s1 = <span class="keyword">new</span> Student(<span class="string">&quot;a&quot;</span>, <span class="number">20</span>);</span><br><span class="line">        Student s2 = <span class="keyword">new</span> Student(<span class="string">&quot;b&quot;</span>, <span class="number">21</span>);</span><br><span class="line">        Student s3 = <span class="keyword">new</span> Student(<span class="string">&quot;c&quot;</span>, <span class="number">22</span>);</span><br><span class="line">        Student s4 = <span class="keyword">new</span> Student(<span class="string">&quot;d&quot;</span>, <span class="number">23</span>);</span><br><span class="line">        Student s5 = <span class="keyword">new</span> Student(<span class="string">&quot;e&quot;</span>, <span class="number">24</span>);</span><br><span class="line">        linkedList.add(s1);</span><br><span class="line">        linkedList.add(s2);</span><br><span class="line">        linkedList.add(s3);</span><br><span class="line">        linkedList.add(s4);</span><br><span class="line">        linkedList.add(s5);</span><br><span class="line">        System.out.println(linkedList + <span class="string">&quot;\nElementNum: &quot;</span> + linkedList.size());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 删除</span></span><br><span class="line">        linkedList.remove(s4);</span><br><span class="line">        linkedList.remove(<span class="keyword">new</span> Student(<span class="string">&quot;e&quot;</span>, <span class="number">24</span>));</span><br><span class="line">        System.out.println(<span class="string">&quot;After remove: &quot;</span> + linkedList + <span class="string">&quot;\nElementNum: &quot;</span> + linkedList.size());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 遍历[重点]</span></span><br><span class="line">        <span class="comment">// for edition</span></span><br><span class="line">        System.out.println(<span class="string">&quot;for edition: &quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; linkedList.size(); i++) &#123;</span><br><span class="line">            System.out.println(linkedList.get(i));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// for-each edition</span></span><br><span class="line">        System.out.println(<span class="string">&quot;for-each edition: &quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (Object o : linkedList) &#123;</span><br><span class="line">            Student s = (Student) o;</span><br><span class="line">            System.out.println(s.toString());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// iterator edition</span></span><br><span class="line">        System.out.println(<span class="string">&quot;iterator edition: &quot;</span>);</span><br><span class="line">        Iterator iterator = linkedList.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">            System.out.println(iterator.next().toString());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// ListIterator edition</span></span><br><span class="line">        System.out.println(<span class="string">&quot;ListIterator order edition: &quot;</span>);</span><br><span class="line">        ListIterator listiterator = linkedList.listIterator();</span><br><span class="line">        <span class="keyword">while</span> (listiterator.hasNext()) &#123;</span><br><span class="line">            System.out.println(listiterator.next().toString());</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;ListIterator Reverse order edition: &quot;</span>);</span><br><span class="line">        <span class="keyword">while</span> (listiterator.hasPrevious()) &#123;</span><br><span class="line">            System.out.println(listiterator.previous().toString());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 判断</span></span><br><span class="line">        System.out.println(<span class="string">&quot;The linkedList contains s1 is: &quot;</span> + linkedList.contains(s1));</span><br><span class="line">        <span class="comment">// 重写Student类中equals()方法</span></span><br><span class="line">        System.out.println(<span class="string">&quot;The linkedList contains s2 is: &quot;</span> + linkedList.contains(<span class="keyword">new</span> Student(<span class="string">&quot;b&quot;</span>, <span class="number">21</span>)));</span><br><span class="line">        System.out.println(<span class="string">&quot;The linkedList is empty is: &quot;</span> + linkedList.isEmpty());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 查找</span></span><br><span class="line">        System.out.println(<span class="string">&quot;The index of s1 is: &quot;</span> + linkedList.indexOf(s1));</span><br><span class="line">        System.out.println(<span class="string">&quot;The index of s2 is: &quot;</span> + linkedList.indexOf(<span class="keyword">new</span> Student(<span class="string">&quot;b&quot;</span>, <span class="number">21</span>)));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<br/>

<h4 id="LinkedList源码分析"><a href="#LinkedList源码分析" class="headerlink" title="LinkedList源码分析"></a><strong>LinkedList源码分析</strong></h4><p>LinkedList首先有三个属性：</p>
<ul>
<li>链表大小：<code>transient int size = 0;</code></li>
<li>（指向）第一个结点/头结点：<code> transient Node&lt;E&gt; first;</code></li>
<li>（指向）最后一个结点/尾结点：<code>transient Node&lt;E&gt; last;</code></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Node节点类</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span>&lt;<span class="title">E</span>&gt; </span>&#123;</span><br><span class="line">    E item;</span><br><span class="line">    Node&lt;E&gt; next;</span><br><span class="line">    Node&lt;E&gt; prev;</span><br><span class="line"></span><br><span class="line">    Node(Node&lt;E&gt; prev, E element, Node&lt;E&gt; next) &#123;</span><br><span class="line">        <span class="keyword">this</span>.item = element;</span><br><span class="line">        <span class="keyword">this</span>.next = next;</span><br><span class="line">        <span class="keyword">this</span>.prev = prev;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>item</code>中存储的是实际数据，<code>next</code>指向下一节点，<code>prev</code>指向上一节点。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">add</span><span class="params">(E e)</span> </span>&#123;</span><br><span class="line">    linkLast(e);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">linkLast</span><span class="params">(E e)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">final</span> Node&lt;E&gt; l = last;</span><br><span class="line">    <span class="keyword">final</span> Node&lt;E&gt; newNode = <span class="keyword">new</span> Node&lt;&gt;(l, e, <span class="keyword">null</span>);</span><br><span class="line">    last = newNode;</span><br><span class="line">    <span class="keyword">if</span> (l == <span class="keyword">null</span>)</span><br><span class="line">        first = newNode;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        l.next = newNode;</span><br><span class="line">    size++;</span><br><span class="line">    modCount++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>当使用<code>add()</code>方法添加节点时，调用<code>linkLast()</code>方法。</p>
<p>首先创建一个<code>Node</code>节点<code> l</code> 将<code>last</code>尾节点（此时为空）指向它</p>
<p>然后创建一个<code>newNode</code>节点存储数据，并且它的前驱指向<code>l</code>，后继指向<code>null</code>，值为<code>e</code>。</p>
<p>再把<code>last</code>指向<code>newNode</code>。</p>
<p>当<code>l</code>是创建的第一个节点即<code>l == null</code>时，将<code>first</code>指向<code>newNode</code>;</p>
<p>否则将<code>l.next</code>即<code>l</code>的后继节点指向<code>newNode</code>。</p>
<br/>

<h4 id="ArrayList与LinkedList的区别"><a href="#ArrayList与LinkedList的区别" class="headerlink" title="ArrayList与LinkedList的区别"></a><strong>ArrayList与LinkedList的区别</strong></h4><ul>
<li>ArrayList：必须开辟连续空间，查询快，增删慢。</li>
<li>LinkedList：无需开辟连续空间，查询慢，增删快。</li>
</ul>
<p><img src="https://s1.imagehub.cc/images/2022/03/03/arraylinkedlist.png" alt="arraylinkedlist.png"></p>
<br/>

<h2 id="泛型概述"><a href="#泛型概述" class="headerlink" title="泛型概述"></a>泛型概述</h2><hr>
<ul>
<li>Java泛型是JDK1.5中引入的一个新特性，其本质是参数化类型，把类型作为参数传递。</li>
<li>常见形式有泛型类、泛型接口、泛型方法。</li>
<li>语法：<ul>
<li>&lt;T,…&gt; T称为类型占位符，表示一种引用类型。</li>
</ul>
</li>
<li>好处：<ul>
<li>提高代码的重用性。</li>
<li>防止类型转换异常，提高代码的安全性。</li>
</ul>
</li>
</ul>
<br/>

<h3 id="泛型类"><a href="#泛型类" class="headerlink" title="泛型类"></a><strong>泛型类</strong></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    泛型类</span></span><br><span class="line"><span class="comment">    语法: 类名&lt;T&gt;</span></span><br><span class="line"><span class="comment">    T: 类型占位符, 表示一种引用类型. 当需要多个时需使用逗号隔开</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyGenericClass</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="comment">// 1. 使用泛型创建变量</span></span><br><span class="line">    T t;</span><br><span class="line">    <span class="comment">// 不能使用泛型实例化对象</span></span><br><span class="line"><span class="comment">//    T t1 = new T();</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2. 使用泛型作为方法的参数</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">(T t)</span> </span>&#123;</span><br><span class="line">        System.out.println(t);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3. 使用泛型作为方法的返回类型</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">getT</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> t;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 泛型类的使用</span></span><br><span class="line">    <span class="comment">// 使用泛型创建对象</span></span><br><span class="line">    MyGenericClass&lt;String&gt; myGeneric1 = <span class="keyword">new</span> MyGenericClass&lt;&gt;();</span><br><span class="line">    myGeneric1.t = <span class="string">&quot;Generic1&quot;</span>;</span><br><span class="line">    myGeneric1.show(<span class="string">&quot;Hello&quot;</span>);</span><br><span class="line">    System.out.println(myGeneric1.getT());</span><br><span class="line"></span><br><span class="line">    MyGenericClass&lt;Integer&gt; myGeneric2 = <span class="keyword">new</span> MyGenericClass&lt;&gt;();</span><br><span class="line">    myGeneric2.t = <span class="number">100</span>;</span><br><span class="line">    myGeneric2.show(<span class="number">200</span>);</span><br><span class="line">    System.out.println(myGeneric2.getT());</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<br/>

<h3 id="泛型接口"><a href="#泛型接口" class="headerlink" title="泛型接口"></a><strong>泛型接口</strong></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    泛型接口</span></span><br><span class="line"><span class="comment">    语法: 接口名&lt;T&gt;</span></span><br><span class="line"><span class="comment">    注意: 不能创建泛型静态常量</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">MyGenericInterface</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    String name = <span class="string">&quot;abc&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">T <span class="title">genericInterfaceOut</span><span class="params">(T t)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    实现接口时确定泛型类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GenericInterfaceImplTest1</span> <span class="keyword">implements</span> <span class="title">MyGenericInterface</span>&lt;<span class="title">String</span>&gt;</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">genericInterfaceOut</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Interface test1 output: &quot;</span> + s);</span><br><span class="line">        <span class="keyword">return</span> s;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    实现接口时不确定泛型类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GenericInterfaceImplTest2</span>&lt;<span class="title">T</span>&gt; <span class="keyword">implements</span> <span class="title">MyGenericInterface</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">genericInterfaceOut</span><span class="params">(T t)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Interface test2 output: &quot;</span> + t);</span><br><span class="line">        <span class="keyword">return</span> t;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 泛型接口的使用</span></span><br><span class="line"><span class="comment">// 在类实现接口时就指定泛型类型</span></span><br><span class="line">GenericInterfaceImplTest1 genericInterfaceImplTest1 = <span class="keyword">new</span> GenericInterfaceImplTest1();</span><br><span class="line">genericInterfaceImplTest1.genericInterfaceOut(<span class="string">&quot;success1&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在实例化实现接口类时再指定泛型类型</span></span><br><span class="line">GenericInterfaceImplTest2&lt;Integer&gt; genericInterfaceImplTest2 = <span class="keyword">new</span> GenericInterfaceImplTest2&lt;&gt;();</span><br><span class="line">genericInterfaceImplTest2.genericInterfaceOut(<span class="number">666</span>);</span><br></pre></td></tr></table></figure>

<br/>

<h3 id="泛型方法"><a href="#泛型方法" class="headerlink" title="泛型方法"></a><strong>泛型方法</strong></h3><hr>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    泛型方法</span></span><br><span class="line"><span class="comment">    语法: &lt;T&gt;返回值类型</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyGenericMethod</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> &lt;T&gt; <span class="function">T <span class="title">genericMethodOut</span><span class="params">(T t)</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Method output test: &quot;</span> + t);</span><br><span class="line">        <span class="keyword">return</span> t;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 泛型方法的使用</span></span><br><span class="line">MyGenericMethod myGenericMethod = <span class="keyword">new</span> MyGenericMethod();</span><br><span class="line">myGenericMethod.genericMethodOut(<span class="string">&quot;success&quot;</span>);</span><br><span class="line">myGenericMethod.genericMethodOut(<span class="string">&quot;666&quot;</span>);</span><br><span class="line">myGenericMethod.genericMethodOut(<span class="string">&quot;6.66&quot;</span>);</span><br></pre></td></tr></table></figure>

<br/>

<h3 id="泛型集合"><a href="#泛型集合" class="headerlink" title="泛型集合"></a><strong>泛型集合</strong></h3><ul>
<li><p><strong>概念</strong>：参数化类型、类型安全的集合，强制集合元素的类型必须一致。</p>
</li>
<li><p><strong>特点:</strong> </p>
<ul>
<li>编译时即可检查，而非运行时抛出异常。</li>
<li>访问时，不必类型转换（拆箱）。</li>
<li>不同泛型指尖引用不能相互赋值，泛型不存在多态。</li>
</ul>
<p>之前我们在创建LinkedList类型对象的时候并没有使用泛型，但是进到它的源码中会发现：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LinkedList</span>&lt;<span class="title">E</span>&gt;</span></span><br><span class="line"><span class="class">    <span class="keyword">extends</span> <span class="title">AbstractSequentialList</span>&lt;<span class="title">E</span>&gt;</span></span><br><span class="line"><span class="class">    <span class="keyword">implements</span> <span class="title">List</span>&lt;<span class="title">E</span>&gt;, <span class="title">Deque</span>&lt;<span class="title">E</span>&gt;, <span class="title">Cloneable</span>, <span class="title">java</span>.<span class="title">io</span>.<span class="title">Serializable</span></span>&#123;...&#125;</span><br></pre></td></tr></table></figure>

<p>它是一个泛型类，而我之前使用的时候并没有传递，说明java语法是允许的，这个时候传递的类型是Object类，虽然它是所有类的父类，可以存储任意的类型，但是在遍历、获取元素时需要原来的类型就要进行强制转换。这个时候就会出现一些问题，假如往链表里存储了许多不同类型的数据，在强转的时候就要判断每一个原来的类型，这样就很容易出现错误。</p>
</li>
</ul>
<br/>

<h2 id="Set集合概述"><a href="#Set集合概述" class="headerlink" title="Set集合概述"></a>Set集合概述</h2><hr>
<h3 id="Set子接口"><a href="#Set子接口" class="headerlink" title="Set子接口"></a><strong>Set子接口</strong></h3><ul>
<li><strong>特点</strong>：无序、无下标、元素不可重复。</li>
<li><strong>方法</strong>：全部继承自Collection中的方法。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    Set的使用</span></span><br><span class="line"><span class="comment">    特点: 1.无序、无下标  2.不能重复</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SetTest1</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 创建集合</span></span><br><span class="line">        Set&lt;String&gt; set = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1. 添加元素</span></span><br><span class="line">        set.add(<span class="string">&quot;Apple&quot;</span>);</span><br><span class="line">        set.add(<span class="string">&quot;Huawei&quot;</span>);</span><br><span class="line">        set.add(<span class="string">&quot;Xiaomi&quot;</span>);</span><br><span class="line">        set.add(<span class="string">&quot;Samsung&quot;</span>);</span><br><span class="line">        <span class="comment">// 重复元素不会被添加进HashSet</span></span><br><span class="line">        set.add(<span class="string">&quot;Huawei&quot;</span>);</span><br><span class="line">        <span class="comment">// 输出不会按照添加元素的顺序(无序)</span></span><br><span class="line">        System.out.println(set + <span class="string">&quot;\nElementNum: &quot;</span> + set.size());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2. 删除元素</span></span><br><span class="line">        set.remove(<span class="string">&quot;Samsung&quot;</span>);</span><br><span class="line">        System.out.println(set + <span class="string">&quot;\nElementNum: &quot;</span> + set.size());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3. 遍历[重点]</span></span><br><span class="line">        <span class="comment">// for-each edition (无下标，不能使用for)</span></span><br><span class="line">        System.out.println(<span class="string">&quot;for-each edition: &quot;</span>);</span><br><span class="line">        <span class="keyword">for</span>(String s : set)&#123;</span><br><span class="line">            System.out.println(s);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//iterator edition</span></span><br><span class="line">        System.out.println(<span class="string">&quot;iterator edition: &quot;</span>);</span><br><span class="line">        Iterator&lt;String&gt; iterator = set.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">            System.out.println(iterator.next());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4. 判断</span></span><br><span class="line">        System.out.println(<span class="string">&quot;The set contains Apple is: &quot;</span> + set.contains(<span class="string">&quot;Apple&quot;</span>));</span><br><span class="line">        System.out.println(<span class="string">&quot;The set is empty is: &quot;</span> + set.isEmpty());</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<br/>

<h4 id="Set实现类"><a href="#Set实现类" class="headerlink" title="Set实现类"></a><strong>Set实现类</strong></h4><h5 id="HashSet"><a href="#HashSet" class="headerlink" title="HashSet"></a><strong>HashSet</strong></h5><ul>
<li>基于HashCode计算元素存放位置。</li>
<li>当存入元素的哈希码相同时，会调用equals进行确认，如结果为true，则拒绝后者存入。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    人类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Person [name = &quot;</span> + name + <span class="string">&quot;, age = &quot;</span> + age + <span class="string">&quot;]&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    HashSet的使用</span></span><br><span class="line"><span class="comment">    存储结构：哈希表(数组 + 链表 + 红黑树)</span></span><br><span class="line"><span class="comment">    存储过程：1.根据hashcode计算保存的位置。若此位置为空，则之间保存；否则执行2.</span></span><br><span class="line"><span class="comment">            2.执行equals()方法，若结果为true，则认为是重复元素，不进行存储；否则创建链表。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HashSetTest1</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">            <span class="comment">// 创建集合</span></span><br><span class="line">            HashSet&lt;Person&gt; persons = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 添加数据</span></span><br><span class="line">            Person p1 = <span class="keyword">new</span> Person(<span class="string">&quot;a&quot;</span>, <span class="number">20</span>);</span><br><span class="line">            Person p2 = <span class="keyword">new</span> Person(<span class="string">&quot;b&quot;</span>, <span class="number">21</span>);</span><br><span class="line">            Person p3 = <span class="keyword">new</span> Person(<span class="string">&quot;c&quot;</span>, <span class="number">22</span>);</span><br><span class="line">            Person p4 = <span class="keyword">new</span> Person(<span class="string">&quot;d&quot;</span>, <span class="number">23</span>);</span><br><span class="line"></span><br><span class="line">            persons.add(p1);</span><br><span class="line">            persons.add(p2);</span><br><span class="line">            persons.add(p3);</span><br><span class="line">            persons.add(p4);</span><br><span class="line">            <span class="comment">// 重复元素无法添加</span></span><br><span class="line">            persons.add(p4);</span><br><span class="line">            <span class="comment">// 在add()方法中new一个已经添加过的Person对象可以添加进HashSet</span></span><br><span class="line">            <span class="comment">// 要使该元素无法添加进HashSet，就要重写Person类中的HashCode()方法和equals()方法</span></span><br><span class="line">            <span class="comment">// 重写HashCode()方法让相同名字、年龄的元素所分配的位置相同；重写equals()方法让相同名字、年龄的元素返回true。</span></span><br><span class="line">            persons.add(<span class="keyword">new</span> Person(<span class="string">&quot;c&quot;</span>, <span class="number">22</span>));</span><br><span class="line">            System.out.println(persons + <span class="string">&quot;\nPersonNum: &quot;</span> + persons.size());</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 删除数据</span></span><br><span class="line">            persons.remove(p4);</span><br><span class="line">            System.out.println(<span class="string">&quot;After remove: &quot;</span> + persons + <span class="string">&quot;\nPersonNum: &quot;</span> + persons.size());</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 遍历</span></span><br><span class="line">            <span class="comment">// for-each edition</span></span><br><span class="line">            System.out.println(<span class="string">&quot;for-each edition: &quot;</span>);</span><br><span class="line">            <span class="keyword">for</span> (Person p : persons)&#123;</span><br><span class="line">                System.out.println(p);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// iterator edition</span></span><br><span class="line">            System.out.println(<span class="string">&quot;iterator edition: &quot;</span>);</span><br><span class="line">            Iterator iterator = persons.iterator();</span><br><span class="line">            <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">                System.out.println(iterator.next());</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 判断</span></span><br><span class="line">            System.out.println(<span class="string">&quot;The HashSet contains d is: &quot;</span> + persons.contains(<span class="keyword">new</span> Person(<span class="string">&quot;b&quot;</span>, <span class="number">21</span>)));</span><br><span class="line">            System.out.println(<span class="string">&quot;The HashSet is empty is: &quot;</span> + persons.isEmpty());</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 重写hashCode()方法和equals()方法</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span> == o) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">if</span> (o == <span class="keyword">null</span> || getClass() != o.getClass()) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    Person person = (Person) o;</span><br><span class="line">    <span class="keyword">return</span> getAge() == person.getAge() &amp;&amp; getName().equals(person.getName());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> Objects.hash(getName(), getAge());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br/>

<h5 id="TreeSet"><a href="#TreeSet" class="headerlink" title="TreeSet"></a><strong>TreeSet</strong></h5><ul>
<li>基于<strong>排列 顺序</strong>实现不重复。</li>
<li>实现了SortedSet接口，对集合元素自动排序。</li>
<li>元素对象的类型必须实现Comparable接口，指定排序规则。</li>
<li>通过CompareTo方法确定是否为重复元素。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    TreeSet的使用(元素实现Comparable接口)</span></span><br><span class="line"><span class="comment">    存储结构： 红黑树</span></span><br><span class="line"><span class="comment">    要求： 元素必须实现Comparable接口。当compareTo()方法的返回值为 0 ，则认为是重复元素。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeSetTest1</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 创建集合</span></span><br><span class="line">        TreeSet&lt;Person&gt; treePersons1 = <span class="keyword">new</span> TreeSet&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1. 添加元素</span></span><br><span class="line">        Person p1 = <span class="keyword">new</span> Person(<span class="string">&quot;a&quot;</span>, <span class="number">20</span>);</span><br><span class="line">        Person p2 = <span class="keyword">new</span> Person(<span class="string">&quot;b&quot;</span>, <span class="number">21</span>);</span><br><span class="line">        Person p3 = <span class="keyword">new</span> Person(<span class="string">&quot;c&quot;</span>, <span class="number">22</span>);</span><br><span class="line">        Person p4 = <span class="keyword">new</span> Person(<span class="string">&quot;c&quot;</span>, <span class="number">23</span>);</span><br><span class="line">        Person p5 = <span class="keyword">new</span> Person(<span class="string">&quot;d&quot;</span>, <span class="number">24</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 若添加的元素不实现Comparable接口并重写compareTo()方法，则TreeSet无法比较元素，出现ClassCastException</span></span><br><span class="line">        treePersons1.add(p1);</span><br><span class="line">        treePersons1.add(p2);</span><br><span class="line">        treePersons1.add(p3);</span><br><span class="line">        treePersons1.add(p4);</span><br><span class="line">        treePersons1.add(p5);</span><br><span class="line"></span><br><span class="line">        System.out.println(treePersons1 + <span class="string">&quot;\nPersonNum: &quot;</span> + treePersons1.size());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 删除</span></span><br><span class="line">        treePersons1.remove(p4);</span><br><span class="line">        <span class="comment">// compareTo()方法比较的姓名和年龄认为new的对象与p5相同，则能删除。</span></span><br><span class="line">        treePersons1.remove(<span class="keyword">new</span> Person(<span class="string">&quot;d&quot;</span>, <span class="number">24</span>));</span><br><span class="line"></span><br><span class="line">        System.out.println(treePersons1 + <span class="string">&quot;\npersonNum: &quot;</span> + treePersons1.size());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 遍历</span></span><br><span class="line">        <span class="comment">// for-each edition</span></span><br><span class="line">        System.out.println(<span class="string">&quot;for-each edition: &quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (Person p : treePersons1)&#123;</span><br><span class="line">            System.out.println(p);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iterator edition</span></span><br><span class="line">        System.out.println(<span class="string">&quot;iterator edition: &quot;</span>);</span><br><span class="line">        Iterator&lt;Person&gt; iterator = treePersons1.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">            System.out.println(iterator.next());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 判断</span></span><br><span class="line">        System.out.println(<span class="string">&quot;The TreeSet contains d is: &quot;</span> + treePersons1.contains(<span class="keyword">new</span> Person(<span class="string">&quot;b&quot;</span>, <span class="number">21</span>)));</span><br><span class="line">        System.out.println(<span class="string">&quot;The TreeSet is empty is: &quot;</span> + treePersons1.isEmpty());</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>Person类实现Comparable接口, 重写compareTo()方法:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 先按姓名比较，再按年龄比较</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Person o)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n1 = <span class="keyword">this</span>.getName().compareTo(o.getName());</span><br><span class="line">    <span class="keyword">int</span> n2 = <span class="keyword">this</span>.age - o.getAge();</span><br><span class="line">    <span class="keyword">return</span> n1 == <span class="number">0</span> ? n2 : n1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>除了实现Comparable接口里的比较方法，TreeSet也提供了一个带比较器Comparator的构造方法，使用lambda来实现它：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    TreeSet的使用(创建集合时实现Comparator接口，指定比较规则)</span></span><br><span class="line"><span class="comment">    存储结构： 红黑树</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeSetTest2</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 创建集合 指定比较规则</span></span><br><span class="line">        TreeSet&lt;Person&gt; treePersons2 = <span class="keyword">new</span> TreeSet&lt;&gt;((o1, o2) -&gt; &#123;</span><br><span class="line">            <span class="keyword">int</span> n1 = o1.getAge() - o2.getAge();</span><br><span class="line">            <span class="keyword">int</span> n2 = o1.getName().compareTo(o2.getName());</span><br><span class="line">            <span class="keyword">return</span> n1 == <span class="number">0</span> ? n2 : n1;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 添加元素</span></span><br><span class="line">        Person p1 = <span class="keyword">new</span> Person(<span class="string">&quot;a&quot;</span>, <span class="number">20</span>);</span><br><span class="line">        Person p2 = <span class="keyword">new</span> Person(<span class="string">&quot;b&quot;</span>, <span class="number">21</span>);</span><br><span class="line">        Person p3 = <span class="keyword">new</span> Person(<span class="string">&quot;c&quot;</span>, <span class="number">22</span>);</span><br><span class="line">        Person p4 = <span class="keyword">new</span> Person(<span class="string">&quot;c&quot;</span>, <span class="number">23</span>);</span><br><span class="line">        Person p5 = <span class="keyword">new</span> Person(<span class="string">&quot;d&quot;</span>, <span class="number">24</span>);</span><br><span class="line"></span><br><span class="line">        treePersons2.add(p1);</span><br><span class="line">        treePersons2.add(p2);</span><br><span class="line">        treePersons2.add(p3);</span><br><span class="line">        treePersons2.add(p4);</span><br><span class="line">        treePersons2.add(p5);</span><br><span class="line"></span><br><span class="line">        System.out.println(treePersons2 + <span class="string">&quot;\nPersonNum: &quot;</span> + treePersons2.size());</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>使用TreeSet集合实现字符串按照长度进行排序:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    使用TreeSet集合实现字符串按照长度进行排序</span></span><br><span class="line"><span class="comment">    list, arrayList, linkedList, set, hashSet, treeSet</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeSetTest3</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        TreeSet&lt;String&gt; treeSet= <span class="keyword">new</span> TreeSet&lt;&gt;((o1, o2) -&gt;&#123;</span><br><span class="line">            <span class="keyword">int</span> n1 = o1.length() - o2.length();</span><br><span class="line">            <span class="keyword">int</span> n2 = o1.compareTo(o2);</span><br><span class="line">            <span class="keyword">return</span> n1 == <span class="number">0</span> ? n2 : n1;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        treeSet.add(<span class="string">&quot;list&quot;</span>);</span><br><span class="line">        treeSet.add(<span class="string">&quot;arrayList&quot;</span>);</span><br><span class="line">        treeSet.add(<span class="string">&quot;linkedList&quot;</span>);</span><br><span class="line">        treeSet.add(<span class="string">&quot;set&quot;</span>);</span><br><span class="line">        treeSet.add(<span class="string">&quot;hashSet&quot;</span>);</span><br><span class="line">        treeSet.add(<span class="string">&quot;treeSet&quot;</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;The sorted treeSet: &quot;</span> + treeSet);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br/>

<h2 id="Map集合概述"><a href="#Map集合概述" class="headerlink" title="Map集合概述"></a>Map集合概述</h2><hr>
<h3 id="Map接口的特点："><a href="#Map接口的特点：" class="headerlink" title="Map接口的特点："></a><strong>Map接口的特点：</strong></h3><ol>
<li>用于存储任意键值对(Key-Value)。</li>
<li>键：无序、无下标、不允许重复（唯一）。</li>
<li>值：无序、无下标、允许重复。</li>
</ol>
<p><img src="https://s1.imagehub.cc/images/2022/03/04/f7246b600c338744ebf82e15ac5fcef9d72a60590a03.png" alt="f7246b600c338744ebf82e15ac5fcef9d72a60590a03.png"></p>
<br/>

<h3 id="Map父接口"><a href="#Map父接口" class="headerlink" title="Map父接口"></a><strong>Map父接口</strong></h3><ul>
<li><p><strong>方法</strong>：</p>
<ul>
<li><p><code>V put(K key,V value)</code>//将对象存入到集合中，关联键值。key重复则覆盖原值。</p>
</li>
<li><p><code>Object get(Object key)</code>//根据键获取相应的值。</p>
</li>
<li><p><code>Set&lt;K&gt; keySet()</code>//返回所有的key</p>
</li>
<li><p><code>Collection&lt;V&gt; values()</code>//返回包含所有值的Collection集合。</p>
</li>
<li><p><code>Set&lt;Map.Entry&lt;K,V&gt;&gt;</code>//键值匹配的set集合</p>
</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    Map的使用</span></span><br><span class="line"><span class="comment">    特点: 1.存储键值对; 2.键不能重复,值可以重复; 3.无序</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MapTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 创建集合</span></span><br><span class="line">        Map&lt;String, String&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1. 添加元素</span></span><br><span class="line">        map.put(<span class="string">&quot;cn&quot;</span>, <span class="string">&quot;China&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&quot;uk&quot;</span>, <span class="string">&quot;British&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&quot;us&quot;</span>, <span class="string">&quot;America&quot;</span>);</span><br><span class="line">        <span class="comment">// 键重复,则替换</span></span><br><span class="line">        map.put(<span class="string">&quot;uk&quot;</span>, <span class="string">&quot;England&quot;</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(map + <span class="string">&quot;\nElementNum: &quot;</span> + map.size());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2. 删除</span></span><br><span class="line">        map.remove(<span class="string">&quot;us&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;After remove&quot;</span> + map + <span class="string">&quot;\nElementNum: &quot;</span> + map.size());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3. 遍历</span></span><br><span class="line">        <span class="comment">// keySet edition</span></span><br><span class="line">        System.out.println(<span class="string">&quot;keySet edition: &quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (String key : map.keySet())&#123;</span><br><span class="line">            System.out.println(key + <span class="string">&quot; &quot;</span> + map.get(key));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// entryKey edition [重点]</span></span><br><span class="line">        System.out.println(<span class="string">&quot;entryKey edition: &quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (Map.Entry&lt;String, String&gt; entry : map.entrySet())&#123;</span><br><span class="line">            System.out.println(entry.getKey() + <span class="string">&quot; &quot;</span> + entry.getValue());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 判断</span></span><br><span class="line">        System.out.println(<span class="string">&quot;The map contains key &#x27;cn&#x27; is: &quot;</span> + map.containsKey(<span class="string">&quot;cn&quot;</span>));</span><br><span class="line">        System.out.println(<span class="string">&quot;The map contains value &#x27;England&#x27; is: &quot;</span> + map.containsValue(<span class="string">&quot;England&quot;</span>));</span><br><span class="line">        System.out.println(<span class="string">&quot;The map is empty is: &quot;</span> + map.isEmpty());</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<br/>

<h3 id="Map子接口"><a href="#Map子接口" class="headerlink" title="Map子接口"></a><strong>Map子接口</strong></h3><h4 id="Map实现类"><a href="#Map实现类" class="headerlink" title="Map实现类"></a><strong>Map实现类</strong></h4><h5 id="HashMap-重点"><a href="#HashMap-重点" class="headerlink" title="HashMap[重点]"></a><strong>HashMap[重点]</strong></h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    水果类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Fruits</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> price;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Fruits</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Fruits</span><span class="params">(String name, <span class="keyword">int</span> price)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.price = price;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getPrice</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> price;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPrice</span><span class="params">(<span class="keyword">int</span> price)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.price = price;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Fruits&#123;&quot;</span> + <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> + <span class="string">&quot;, price=&quot;</span> + price + <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    HashMap的使用</span></span><br><span class="line"><span class="comment">    存储结构: 哈希表</span></span><br><span class="line"><span class="comment">    特点: 线程不安全，运行效率快；允许用null作为key或是value。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HashMapTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 创建集合</span></span><br><span class="line">        HashMap&lt;Fruits, String&gt; hashMap = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 添加元素</span></span><br><span class="line">        Fruits f1 = <span class="keyword">new</span> Fruits(<span class="string">&quot;Apple&quot;</span>, <span class="number">5</span>);</span><br><span class="line">        Fruits f2 = <span class="keyword">new</span> Fruits(<span class="string">&quot;pear&quot;</span>, <span class="number">6</span>);</span><br><span class="line">        Fruits f3 = <span class="keyword">new</span> Fruits(<span class="string">&quot;watermelon&quot;</span>, <span class="number">7</span>);</span><br><span class="line">        Fruits f4 = <span class="keyword">new</span> Fruits(<span class="string">&quot;mango&quot;</span>, <span class="number">8</span>);</span><br><span class="line"></span><br><span class="line">        hashMap.put(f1, <span class="string">&quot;xinJiang&quot;</span>);</span><br><span class="line">        hashMap.put(f2, <span class="string">&quot;dongBei&quot;</span>);</span><br><span class="line">        hashMap.put(f3, <span class="string">&quot;shangHai&quot;</span>);</span><br><span class="line">        hashMap.put(f4, <span class="string">&quot;xian&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// new的对象与之前的对象虽然键值都相同,但地址不同. 要想让键值相同的对象不能被添加进hashMap则要重写Fruits类的hashCode和equals方法</span></span><br><span class="line">        hashMap.put(<span class="keyword">new</span> Fruits(<span class="string">&quot;mango&quot;</span>, <span class="number">8</span>), <span class="string">&quot;xian&quot;</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(hashMap + <span class="string">&quot;\nElementNum: &quot;</span> + hashMap.size());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 删除</span></span><br><span class="line">        hashMap.remove(f4);</span><br><span class="line">        System.out.println(<span class="string">&quot;After remove: &quot;</span> + hashMap + <span class="string">&quot;\nElementNum: &quot;</span> + hashMap.size());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 遍历</span></span><br><span class="line">        <span class="comment">// keySet edition</span></span><br><span class="line">        System.out.println(<span class="string">&quot;keySet edition: &quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (Fruits fruits : hashMap.keySet()) &#123;</span><br><span class="line">            System.out.println(fruits.toString() + <span class="string">&quot; &quot;</span> + hashMap.get(fruits));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// entrySet edition</span></span><br><span class="line">        System.out.println(<span class="string">&quot;entrySet edition: &quot;</span>);</span><br><span class="line">        <span class="keyword">for</span>(Map.Entry&lt;Fruits, String&gt; entry : hashMap.entrySet())&#123;</span><br><span class="line">            System.out.println(entry.toString());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 判断</span></span><br><span class="line">        System.out.println(hashMap.containsKey(<span class="keyword">new</span> Fruits(<span class="string">&quot;Apple&quot;</span>, <span class="number">5</span>)));</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>注：和之前说过的HashSet类似，重复依据是hashCode和equals方法，重写即可：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span> == o) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">if</span> (o == <span class="keyword">null</span> || getClass() != o.getClass()) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    Fruits fruits = (Fruits) o;</span><br><span class="line">    <span class="keyword">return</span> getPrice() == fruits.getPrice() &amp;&amp; Objects.equals(getName(), fruits.getName());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> Objects.hash(getName(), getPrice());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br/>

<h5 id="HashMap源码分析"><a href="#HashMap源码分析" class="headerlink" title="HashMap源码分析"></a><strong>HashMap源码分析</strong></h5><ul>
<li>默认初始化容量：<code>static final int DEFAULT_INITIAL_CAPACITY = 1 &lt;&lt; 4; // aka 16</code></li>
<li>数组最大容量：<code>static final int MAXIMUM_CAPACITY = 1 &lt;&lt; 30;</code></li>
<li>默认加载因子：<code>static final float DEFAULT_LOAD_FACTOR = 0.75f;</code></li>
<li>链表调整为红黑树的链表长度阈值:<code>static final int TREEIFY_THRESHOLD = 8;</code></li>
<li>红黑树调整为链表的链表长度阈值:<code>static final int UNTREEIFY_THRESHOLD = 6;</code></li>
<li>链表调整为红黑树的数组最小阈值:<code>static final int MIN_TREEIFY_CAPACITY = 64;</code></li>
<li>HashMap存储的数组：<code>transient Node&lt;K,V&gt;[] table;</code></li>
<li>HashMap存储的元素个数：<code>transient int size;</code></li>
</ul>
<blockquote>
<ul>
<li>默认加载因子是什么？<ul>
<li>就是判断数组是否扩容的一个因子。假如数组容量为100，如果HashMap的存储元素个数超过了100*0.75=75，那么就会进行扩容。</li>
</ul>
</li>
<li>链表调整为红黑树的链表长度阈值是什么？<ul>
<li>假设在数组中下标为3的位置已经存储了数据，当新增数据时通过哈希码得到的存储位置又是3，那么就会在该位置形成一个链表，当链表过长时就会转换成红黑树以提高执行效率，这个阈值就是链表转换成红黑树的最短链表长度；</li>
</ul>
</li>
<li>红黑树调整为链表的链表长度阈值是什么？<ul>
<li>当红黑树的元素个数小于该阈值时就会转换成链表。</li>
</ul>
</li>
<li>链表调整为红黑树的数组最小阈值是什么？<ul>
<li>并不是只要链表长度大于8就可以转换成红黑树，在前者条件成立的情况下，数组的容量必须大于等于64才会进行转换。</li>
</ul>
</li>
</ul>
</blockquote>
<p>HashMap的数组table存储的就是一个个的Node&lt;K, V&gt;类型，很清晰地看到有一对键值，还有一个指向next的指针（以下只截取了部分源码）：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; <span class="keyword">implements</span> <span class="title">Map</span>.<span class="title">Entry</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; </span>&#123;</span><br><span class="line">      <span class="keyword">final</span> K key;</span><br><span class="line">      V value;</span><br><span class="line">      Node&lt;K,V&gt; next;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>之前的代码中在new对象时调用的是HashMap的无参构造方法，进入到该构造方法的源码查看一下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">HashMap</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.loadFactor = DEFAULT_LOAD_FACTOR; <span class="comment">// all other fields defaulted</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>只赋值了一个默认加载因子。而源码中 table 和 size 都没有赋予初始值，说明刚创建的HashMap对象没有分配容量，并不拥有默认的16个空间大小，这样做的目的是为了节约空间，此时<strong>table = null，size = 0</strong>。</p>
<p>当我们往对象里添加元素时调用put方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> V <span class="title">put</span><span class="params">(K key, V value)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> putVal(hash(key), key, value, <span class="keyword">false</span>, <span class="keyword">true</span>);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>put方法把key和value传给了putVal，同时还传入了一个hash(Key)所返回的值，这是一个产生哈希值的方法，再进入到putVal方法（部分源码）：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">final</span> V <span class="title">putVal</span><span class="params">(<span class="keyword">int</span> hash, K key, V value, <span class="keyword">boolean</span> onlyIfAbsent,</span></span></span><br><span class="line"><span class="function"><span class="params">                    <span class="keyword">boolean</span> evict)</span> </span>&#123;</span><br><span class="line">      Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; <span class="keyword">int</span> n, i;</span><br><span class="line">      <span class="keyword">if</span> ((tab = table) == <span class="keyword">null</span> || (n = tab.length) == <span class="number">0</span>)</span><br><span class="line">          n = (tab = resize()).length;</span><br><span class="line">      <span class="keyword">if</span> ((p = tab[i = (n - <span class="number">1</span>) &amp; hash]) == <span class="keyword">null</span>)</span><br><span class="line">          tab[i] = newNode(hash, key, value, <span class="keyword">null</span>);</span><br><span class="line">      <span class="keyword">else</span>&#123;</span><br><span class="line">          ...</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>这里面创建了一个tab数组和一个Node变量p，第一个if实际是判断table是否为空，而我们现在只关注刚创建HashMap对象时的状态，此时tab和table都为空，满足条件，执行内部代码，这条代码其实就是把resize()所返回的结果赋给tab，n就是tab的长度，resize顾名思义就是重新调整大小。查看resize()源码（部分）：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> Node&lt;K,V&gt;[] resize() &#123;</span><br><span class="line">      Node&lt;K,V&gt;[] oldTab = table;</span><br><span class="line">      <span class="keyword">int</span> oldCap = (oldTab == <span class="keyword">null</span>) ? <span class="number">0</span> : oldTab.length;</span><br><span class="line">      <span class="keyword">int</span> oldThr = threshold;</span><br><span class="line">      <span class="keyword">if</span> (oldCap &gt; <span class="number">0</span>);</span><br><span class="line">      <span class="keyword">else</span> <span class="keyword">if</span> (oldThr &gt; <span class="number">0</span>);</span><br><span class="line">      <span class="keyword">else</span> &#123;               <span class="comment">// zero initial threshold signifies using defaults</span></span><br><span class="line">          newCap = DEFAULT_INITIAL_CAPACITY;</span><br><span class="line">          newThr = (<span class="keyword">int</span>)(DEFAULT_LOAD_FACTOR * DEFAULT_INITIAL_CAPACITY);</span><br><span class="line">      &#125; </span><br><span class="line">      <span class="meta">@SuppressWarnings(&#123;&quot;rawtypes&quot;,&quot;unchecked&quot;&#125;)</span></span><br><span class="line">      Node&lt;K,V&gt;[] newTab = (Node&lt;K,V&gt;[])<span class="keyword">new</span> Node[newCap];</span><br><span class="line">      table = newTab;</span><br><span class="line">      <span class="keyword">return</span> newTab;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>该方法首先把table及其长度赋值给oldTab和oldCap；threshold是阈值，此时为0，所以前两个if先不管，最后else里newCap的值为默认初始化容量16；往下创建了一个newCap大小的数组并将其赋给了table，刚创建的HashMap对象就在这里获得了初始容量。然后我们再回到putVal方法，第二个if就是根据哈希码得到的tab中的一个位置是否为空，为空便直接添加元素，此时数组中无元素所以直接添加。至此HashMap对象就完成了第一个元素的添加。当添加的元素超过16*0.75=12时，就会进行扩容：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">final</span> V <span class="title">putVal</span><span class="params">(<span class="keyword">int</span> hash, K key, V value, <span class="keyword">boolean</span> onlyIfAbsent,<span class="keyword">boolean</span> evict)</span></span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (++size &gt; threshold)</span><br><span class="line">          resize();</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>扩容的代码如下（部分）：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> Node&lt;K,V&gt;[] resize() &#123;</span><br><span class="line">      <span class="keyword">int</span> oldCap = (oldTab == <span class="keyword">null</span>) ? <span class="number">0</span> : oldTab.length;</span><br><span class="line">      <span class="keyword">int</span> newCap;</span><br><span class="line">      <span class="keyword">if</span> (oldCap &gt; <span class="number">0</span>) &#123;</span><br><span class="line">          <span class="keyword">if</span> (oldCap &gt;= MAXIMUM_CAPACITY) &#123;...&#125;</span><br><span class="line">          <span class="keyword">else</span> <span class="keyword">if</span> ((newCap = oldCap &lt;&lt; <span class="number">1</span>) &lt; MAXIMUM_CAPACITY &amp;&amp;</span><br><span class="line">                   oldCap &gt;= DEFAULT_INITIAL_CAPACITY)</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>核心部分是else if里的移位操作，<strong>也就是说每次扩容都是原来大小的两倍</strong>。</li>
<li><strong>注</strong>：额外说明的一点是在JDK1.8以前链表是头插入，JDK1.8以后链表是尾插入。</li>
</ul>
<br/>

<h5 id="HashSet源码分析"><a href="#HashSet源码分析" class="headerlink" title="HashSet源码分析"></a><strong>HashSet源码分析</strong></h5><p>HashSet的存储结构就是利用HashMap实现的：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HashSet</span>&lt;<span class="title">E</span>&gt;</span></span><br><span class="line"><span class="class">      <span class="keyword">extends</span> <span class="title">AbstractSet</span>&lt;<span class="title">E</span>&gt;</span></span><br><span class="line"><span class="class">      <span class="keyword">implements</span> <span class="title">Set</span>&lt;<span class="title">E</span>&gt;, <span class="title">Cloneable</span>, <span class="title">java</span>.<span class="title">io</span>.<span class="title">Serializable</span></span></span><br><span class="line"><span class="class">  </span>&#123;</span><br><span class="line">      <span class="keyword">private</span> <span class="keyword">transient</span> HashMap&lt;E,Object&gt; map;</span><br><span class="line">      <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Object PRESENT = <span class="keyword">new</span> Object();</span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="title">HashSet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">          map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>HashSet的add()方法也是利用HashMap的put()方法实现：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">add</span><span class="params">(E e)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> map.put(e, PRESENT)==<span class="keyword">null</span>;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>利用了map的key来存储HashSet的值。</p>
<br/>

<h5 id="Hashtable"><a href="#Hashtable" class="headerlink" title="Hashtable"></a><strong>Hashtable</strong></h5><ul>
<li><p>JDK1.0版本，线程安全，运行效率慢；不允许null作为key或是value。</p>
</li>
<li><p>初始容量11，加载因子0.75。</p>
<p>这个集合在开发过程中已经不用了，稍微了解即可。</p>
</li>
</ul>
<br/>

<h5 id="Properties"><a href="#Properties" class="headerlink" title="Properties"></a><strong>Properties</strong></h5><ul>
<li>Hashtable的子类，要求key和value都是String。通常用于配置文件的读取。</li>
</ul>
<p>它继承了Hashtable的方法，与流关系密切，在流中详解。</p>
<br/>

<h5 id="TreeMap"><a href="#TreeMap" class="headerlink" title="TreeMap"></a><strong>TreeMap</strong></h5><ul>
<li>实现了SortedMap接口（是Map的子接口），可以对key自动排序。</li>
</ul>
<p>实现Comparable接口的方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    TreeMap的使用</span></span><br><span class="line"><span class="comment">    存储结构: 红黑树</span></span><br><span class="line"><span class="comment">    特点: 与TreeSet相似, TreeMap中的元素也必须实现Comparable接口, 使其之间能够相互比较, 否则会报ClassCastException</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeMapTest1</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 创建集合</span></span><br><span class="line">        TreeMap&lt;Fruits, String&gt; treeMap = <span class="keyword">new</span> TreeMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 添加元素</span></span><br><span class="line">        Fruits f1 = <span class="keyword">new</span> Fruits(<span class="string">&quot;Apple&quot;</span>, <span class="number">5</span>);</span><br><span class="line">        Fruits f2 = <span class="keyword">new</span> Fruits(<span class="string">&quot;pear&quot;</span>, <span class="number">6</span>);</span><br><span class="line">        Fruits f3 = <span class="keyword">new</span> Fruits(<span class="string">&quot;watermelon&quot;</span>, <span class="number">7</span>);</span><br><span class="line">        Fruits f4 = <span class="keyword">new</span> Fruits(<span class="string">&quot;mango&quot;</span>, <span class="number">8</span>);</span><br><span class="line"></span><br><span class="line">        treeMap.put(f1, <span class="string">&quot;xinJiang&quot;</span>);</span><br><span class="line">        treeMap.put(f2, <span class="string">&quot;dongBei&quot;</span>);</span><br><span class="line">        treeMap.put(f3, <span class="string">&quot;shangHai&quot;</span>);</span><br><span class="line">        treeMap.put(f4, <span class="string">&quot;xian&quot;</span>);</span><br><span class="line">        <span class="comment">// 重写完compareTo方法后会认为下面语句new的对象与f4是相同的,因此不能添加进treeMap</span></span><br><span class="line">        treeMap.put(<span class="keyword">new</span> Fruits(<span class="string">&quot;mango&quot;</span>, <span class="number">8</span>), <span class="string">&quot;xian&quot;</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(treeMap + <span class="string">&quot;\nElementNum: &quot;</span> + treeMap.size());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 删除</span></span><br><span class="line">        treeMap.remove(f4);</span><br><span class="line">        System.out.println(<span class="string">&quot;After remove: &quot;</span> + treeMap + <span class="string">&quot;\nElementNum: &quot;</span> + treeMap.size());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 遍历</span></span><br><span class="line">        <span class="comment">// keySet edition</span></span><br><span class="line">        System.out.println(<span class="string">&quot;keySet edition: &quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (Fruits fruits : treeMap.keySet()) &#123;</span><br><span class="line">            System.out.println(fruits + treeMap.get(fruits));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// entrySet edition</span></span><br><span class="line">        System.out.println(<span class="string">&quot;entrySet edition: &quot;</span>);</span><br><span class="line">        <span class="keyword">for</span>(Map.Entry&lt;Fruits, String&gt; entrySet : treeMap.entrySet()) &#123;</span><br><span class="line">            System.out.println(entrySet);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>Fruits类实现Comparable接口，重写compareTo方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Fruits o)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n1 = <span class="keyword">this</span>.getName().compareTo(o.getName());</span><br><span class="line">    <span class="keyword">int</span> n2 = <span class="keyword">this</span>.price - o.getPrice();</span><br><span class="line">    <span class="keyword">return</span> n1 == <span class="number">0</span> ? n2 : n1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    创建TreeMap集合时实现Comparator接口，指定比较规则</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeMapTest2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        TreeMap&lt;Fruits, String&gt; treeMap2 = <span class="keyword">new</span> TreeMap&lt;&gt;((o1, o2) -&gt; &#123;</span><br><span class="line">            <span class="keyword">int</span> n1 = o1.compareTo(o2);</span><br><span class="line">            <span class="keyword">int</span> n2 = o1.compareTo(o2);</span><br><span class="line">            <span class="keyword">return</span> n1 == <span class="number">0</span> ? n2 : n1;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        Fruits f1 = <span class="keyword">new</span> Fruits(<span class="string">&quot;Apple&quot;</span>, <span class="number">5</span>);</span><br><span class="line">        Fruits f2 = <span class="keyword">new</span> Fruits(<span class="string">&quot;pear&quot;</span>, <span class="number">6</span>);</span><br><span class="line">        Fruits f3 = <span class="keyword">new</span> Fruits(<span class="string">&quot;watermelon&quot;</span>, <span class="number">7</span>);</span><br><span class="line">        Fruits f4 = <span class="keyword">new</span> Fruits(<span class="string">&quot;mango&quot;</span>, <span class="number">8</span>);</span><br><span class="line"></span><br><span class="line">        treeMap2.put(f1, <span class="string">&quot;xinJiang&quot;</span>);</span><br><span class="line">        treeMap2.put(f2, <span class="string">&quot;dongBei&quot;</span>);</span><br><span class="line">        treeMap2.put(f3, <span class="string">&quot;shangHai&quot;</span>);</span><br><span class="line">        treeMap2.put(f4, <span class="string">&quot;xian&quot;</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(treeMap2 + <span class="string">&quot;\nElementNum: &quot;</span> + treeMap2.size());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>实现Comparator的方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    创建TreeMap集合时实现Comparator接口，指定比较规则</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeMapTest2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        TreeMap&lt;Fruits, String&gt; treeMap2 = <span class="keyword">new</span> TreeMap&lt;&gt;((o1, o2) -&gt; &#123;</span><br><span class="line">            <span class="keyword">int</span> n1 = o1.compareTo(o2);</span><br><span class="line">            <span class="keyword">int</span> n2 = o1.compareTo(o2);</span><br><span class="line">            <span class="keyword">return</span> n1 == <span class="number">0</span> ? n2 : n1;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        Fruits f1 = <span class="keyword">new</span> Fruits(<span class="string">&quot;Apple&quot;</span>, <span class="number">5</span>);</span><br><span class="line">        Fruits f2 = <span class="keyword">new</span> Fruits(<span class="string">&quot;pear&quot;</span>, <span class="number">6</span>);</span><br><span class="line">        Fruits f3 = <span class="keyword">new</span> Fruits(<span class="string">&quot;watermelon&quot;</span>, <span class="number">7</span>);</span><br><span class="line">        Fruits f4 = <span class="keyword">new</span> Fruits(<span class="string">&quot;mango&quot;</span>, <span class="number">8</span>);</span><br><span class="line"></span><br><span class="line">        treeMap2.put(f1, <span class="string">&quot;xinJiang&quot;</span>);</span><br><span class="line">        treeMap2.put(f2, <span class="string">&quot;dongBei&quot;</span>);</span><br><span class="line">        treeMap2.put(f3, <span class="string">&quot;shangHai&quot;</span>);</span><br><span class="line">        treeMap2.put(f4, <span class="string">&quot;xian&quot;</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(treeMap2 + <span class="string">&quot;\nElementNum: &quot;</span> + treeMap2.size());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br/>

<h5 id="TreeSet源码分析"><a href="#TreeSet源码分析" class="headerlink" title="TreeSet源码分析"></a><strong>TreeSet源码分析</strong></h5><p>和HashSet类似，TreeSet的存储结构是利用TreeMap实现的：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeSet</span>&lt;<span class="title">E</span>&gt; <span class="keyword">extends</span> <span class="title">AbstractSet</span>&lt;<span class="title">E</span>&gt;</span></span><br><span class="line"><span class="class">    <span class="keyword">implements</span> <span class="title">NavigableSet</span>&lt;<span class="title">E</span>&gt;, <span class="title">Cloneable</span>, <span class="title">java</span>.<span class="title">io</span>.<span class="title">Serializable</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">transient</span> NavigableMap&lt;E,Object&gt; m;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Object PRESENT = <span class="keyword">new</span> Object();</span><br><span class="line">    TreeSet(NavigableMap&lt;E,Object&gt; m) &#123;</span><br><span class="line">        <span class="keyword">this</span>.m = m;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TreeSet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>(<span class="keyword">new</span> TreeMap&lt;E,Object&gt;());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>TreeSet的add()方法也是利用TreeMap的put()方法实现：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">add</span><span class="params">(E e)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> m.put(e, PRESENT)==<span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>它的add方法调用的就是TreeMap的put方法，将元素作为key传入到存储结构中。</p>
<br/>

<h2 id="Collections工具类"><a href="#Collections工具类" class="headerlink" title="Collections工具类"></a>Collections工具类</h2><hr>
<ul>
<li><p><strong>概念</strong>：集合工具类，定义了除了存取以外的集合常用方法。</p>
</li>
<li><p><strong>方法</strong>：</p>
<ul>
<li><code>public static void reverse(List&lt;?&gt; list)</code>//反转集合中元素的顺序</li>
<li><code>public static void shuffle(List&lt;?&gt; list)</code>//随机重置集合元素的顺序</li>
<li><code>public static void sort(List&lt;T&gt; list)</code>//升序排序（元素类型必须实现Comparable接口）</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    Collections工具类的使用</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CollectionsTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        list.add(<span class="number">1</span>);</span><br><span class="line">        list.add(<span class="number">5</span>);</span><br><span class="line">        list.add(<span class="number">30</span>);</span><br><span class="line">        list.add(<span class="number">2</span>);</span><br><span class="line">        list.add(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println();</span><br><span class="line">        System.out.println(<span class="string">&quot;Original list: &quot;</span> + list);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// sort排序</span></span><br><span class="line">        Collections.sort(list);</span><br><span class="line">        System.out.println(<span class="string">&quot;Sorted list: &quot;</span> + list);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// binarySearch</span></span><br><span class="line">        System.out.println(<span class="string">&quot;BinarySearch &#x27;5&#x27; in list: &quot;</span> + Collections.binarySearch(list, <span class="number">5</span>));</span><br><span class="line">        System.out.println(<span class="string">&quot;BinarySearch &#x27;3&#x27; in list: &quot;</span> + Collections.binarySearch(list, <span class="number">3</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// copy</span></span><br><span class="line">        List&lt;Integer&gt; copiedList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="comment">// 若没有为copiedList添加与list相同长度的值,会报IndexOutOfBoundsException. 因为此时copiedList长度为0</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; list.size(); i++) &#123;</span><br><span class="line">            copiedList.add(<span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        Collections.copy(copiedList, list);</span><br><span class="line">        System.out.println(<span class="string">&quot;The copied list: &quot;</span> + copiedList);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// reverse</span></span><br><span class="line">        Collections.reverse(copiedList);</span><br><span class="line">        System.out.println(<span class="string">&quot;The r eversed list: &quot;</span> + copiedList);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// shuffle</span></span><br><span class="line">        Collections.shuffle(list);</span><br><span class="line">        System.out.println(<span class="string">&quot;The shuffled list: &quot;</span> + list);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// toArray</span></span><br><span class="line">        Integer[] array = list.toArray(<span class="keyword">new</span> Integer[<span class="number">0</span>]);</span><br><span class="line">        System.out.println(<span class="string">&quot;The list change into array: &quot;</span> + Arrays.toString(array));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// asList</span></span><br><span class="line">        String[] s =&#123;<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>&#125;;</span><br><span class="line">        List&lt;String&gt; sList = Arrays.asList(s);</span><br><span class="line">        System.out.println(<span class="string">&quot;The array change into list: &quot;</span> + sList);</span><br><span class="line">        <span class="comment">// 由数组转换成的集合是一个受限集合,不允许对其添加和删除</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            sList.add(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">catch</span>(UnsupportedOperationException e)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;UnsupportedOperationException!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 基本类型转成集合时需要修改为包装类</span></span><br><span class="line">        Integer[] nums = &#123;<span class="number">100</span>, <span class="number">200</span>, <span class="number">300</span>, <span class="number">400</span>, <span class="number">500</span>&#125;;</span><br><span class="line">        List&lt;Integer&gt; nList = Arrays.asList(nums);</span><br><span class="line">        System.out.println(nList);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<br>

<p>end</p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="reward-container">
  <div>Buy me a coffee</div>
  <button onclick="document.querySelector('.post-reward').classList.toggle('active');">
    Donate
  </button>
  <div class="post-reward">
      <div>
        <img src="/images/wechatpay.png" alt="Ssssv11 WeChat Pay">
        <span>WeChat Pay</span>
      </div>

  </div>
</div>

          <div class="post-tags">
              <a href="/tags/JavaSE/" rel="tag"># JavaSE</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2022/04/29/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/" rel="prev" title="软件工程">
                  <i class="fa fa-chevron-left"></i> 软件工程
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2022/04/29/%E5%B8%B8%E7%94%A8%E7%B1%BB/" rel="next" title="常用类">
                  常用类 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>







<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Ssssv11</span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  
<script src="/js/local-search.js"></script>






  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>





</body>
</html>
